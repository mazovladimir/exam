class Question < ApplicationRecord
  validates :ask, :correct_answer, presence: true, length: { maximum: 1000 }

  has_many :answers, dependent: :destroy
  has_many :questions_users
  has_many :users, through: :questions_users

  def self.add_answers(question,choice)
    choice.first.split("\n").each {|x| question.answers.create(give: x)}
  end

  def self.check_if_answer_exists?(correct_answer, choice)
    choice.first.split("\n").each do |x|
      return true if question.correct_answer == x
    end
  end
end
